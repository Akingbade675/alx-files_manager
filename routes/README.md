{"payload":{"allShortcutsEnabled":false,"fileTree":{"routes":{"items":[{"name":"README.md","path":"routes/README.md","contentType":"file"},{"name":"index.js","path":"routes/index.js","contentType":"file"}],"totalCount":2},"":{"items":[{"name":"controllers","path":"controllers","contentType":"directory"},{"name":"middlewares","path":"middlewares","contentType":"directory"},{"name":"routes","path":"routes","contentType":"directory"},{"name":"tests","path":"tests","contentType":"directory"},{"name":"utils","path":"utils","contentType":"directory"},{"name":".eslintrc.js","path":".eslintrc.js","contentType":"file"},{"name":".gitignore","path":".gitignore","contentType":"file"},{"name":"AUTHORS","path":"AUTHORS","contentType":"file"},{"name":"LICENSE","path":"LICENSE","contentType":"file"},{"name":"README.md","path":"README.md","contentType":"file"},{"name":"Tasks.md","path":"Tasks.md","contentType":"file"},{"name":"babel.config.js","path":"babel.config.js","contentType":"file"},{"name":"image_upload.py","path":"image_upload.py","contentType":"file"},{"name":"package-lock.json","path":"package-lock.json","contentType":"file"},{"name":"package.json","path":"package.json","contentType":"file"},{"name":"server.js","path":"server.js","contentType":"file"},{"name":"worker.js","path":"worker.js","contentType":"file"}],"totalCount":17}},"fileTreeProcessingTime":7.017385999999999,"foldersToFetch":[],"reducedMotionEnabled":null,"repo":{"id":621336455,"defaultBranch":"main","name":"alx-files_manager","ownerLogin":"St-Pardon","currentUserCanPush":false,"isFork":false,"isEmpty":false,"createdAt":"2023-03-30T13:11:25.000Z","ownerAvatar":"https://avatars.githubusercontent.com/u/53058358?v=4","public":true,"private":false,"isOrgOwned":false},"refInfo":{"name":"main","listCacheKey":"v0:1680181886.254475","canEdit":false,"refType":"branch","currentOid":"1bb547466ba6932cf6b4744b62bf999a001e84d0"},"path":"routes/README.md","currentUser":null,"blob":{"rawLines":null,"stylingDirectives":null,"csv":null,"csvError":null,"dependabotInfo":{"showConfigurationBanner":false,"configFilePath":null,"networkDependabotPath":"/St-Pardon/alx-files_manager/network/updates","dismissConfigurationNoticePath":"/settings/dismiss-notice/dependabot_configuration_notice","configurationNoticeDismissed":null,"repoAlertsPath":"/St-Pardon/alx-files_manager/security/dependabot","repoSecurityAndAnalysisPath":"/St-Pardon/alx-files_manager/settings/security_analysis","repoOwnerIsOrg":false,"currentUserCanAdminRepo":false},"displayName":"README.md","displayUrl":"https://github.com/St-Pardon/alx-files_manager/blob/main/routes/README.md?raw=true","headerInfo":{"blobSize":"11.8 KB","deleteInfo":{"deletePath":null,"deleteTooltip":"You must be signed in to make or propose changes"},"editInfo":{"editTooltip":"You must be signed in to make or propose changes"},"ghDesktopPath":"https://desktop.github.com","gitLfsPath":null,"onBranch":true,"shortPath":"76de706","siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2FSt-Pardon%2Falx-files_manager%2Fblob%2Fmain%2Froutes%2FREADME.md","isCSV":false,"isRichtext":true,"toc":[{"level":1,"text":"Alx-Files_Manager Methods and API Documentation","anchor":"alx-files_manager-methods-and-api-documentation","htmlText":"Alx-Files_Manager Methods and API Documentation"},{"level":2,"text":"Contents","anchor":"contents","htmlText":"Contents"},{"level":3,"text":"Methods","anchor":"methods","htmlText":"Methods"},{"level":3,"text":"Endpoints","anchor":"endpoints","htmlText":"Endpoints"},{"level":2,"text":"Methods","anchor":"methods-1","htmlText":"Methods"},{"level":3,"text":"isAlive","anchor":"isalive","htmlText":"isAlive"},{"level":3,"text":"nbUsers and nbFiles","anchor":"nbusers-and-nbfiles","htmlText":"nbUsers and nbFiles"},{"level":2,"text":"Endpoints","anchor":"endpoints-1","htmlText":"Endpoints"},{"level":3,"text":"/status","anchor":"status","htmlText":"/status"},{"level":3,"text":"/stats","anchor":"stats","htmlText":"/stats"},{"level":3,"text":"/users","anchor":"users","htmlText":"/users"},{"level":3,"text":"/connect","anchor":"connect","htmlText":"/connect"},{"level":3,"text":"/disconnect","anchor":"disconnect","htmlText":"/disconnect"},{"level":3,"text":"/users/me","anchor":"usersme","htmlText":"/users/me"},{"level":3,"text":"/files","anchor":"files","htmlText":"/files"},{"level":3,"text":"/files/:id","anchor":"filesid","htmlText":"/files/:id"},{"level":3,"text":"/files","anchor":"files-1","htmlText":"/files"},{"level":3,"text":"/files/:id/publish","anchor":"filesidpublish","htmlText":"/files/:id/publish"},{"level":3,"text":"/files/:id/uppublish","anchor":"filesiduppublish","htmlText":"/files/:id/uppublish"},{"level":3,"text":"/files/:id/data","anchor":"filesiddata","htmlText":"/files/:id/data"}],"lineInfo":{"truncatedLoc":"393","truncatedSloc":"320"},"mode":"file"},"image":false,"isCodeownersFile":null,"isValidLegacyIssueTemplate":false,"issueTemplateHelpUrl":"https://docs.github.com/articles/about-issue-and-pull-request-templates","issueTemplate":null,"discussionTemplate":null,"language":"Markdown","large":false,"loggedIn":false,"newDiscussionPath":"/St-Pardon/alx-files_manager/discussions/new","newIssuePath":"/St-Pardon/alx-files_manager/issues/new","planSupportInfo":{"repoIsFork":null,"repoOwnedByCurrentUser":null,"requestFullPath":"/St-Pardon/alx-files_manager/blob/main/routes/README.md","showFreeOrgGatedFeatureMessage":null,"showPlanSupportBanner":null,"upgradeDataAttributes":null,"upgradePath":null},"publishBannersInfo":{"dismissActionNoticePath":"/settings/dismiss-notice/publish_action_from_dockerfile","dismissStackNoticePath":"/settings/dismiss-notice/publish_stack_from_file","releasePath":"/St-Pardon/alx-files_manager/releases/new?marketplace=true","showPublishActionBanner":false,"showPublishStackBanner":false},"renderImageOrRaw":false,"richText":"<article class=\"markdown-body entry-content container-lg\" itemprop=\"text\"><h1 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-alx-files_manager-methods-and-api-documentation\" class=\"anchor\" aria-hidden=\"true\" href=\"#alx-files_manager-methods-and-api-documentation\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Alx-Files_Manager Methods and API Documentation</h1>\n<h2 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-contents\" class=\"anchor\" aria-hidden=\"true\" href=\"#contents\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Contents</h2>\n<ul dir=\"auto\">\n<li>\n<h3 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-methods\" class=\"anchor\" aria-hidden=\"true\" href=\"#methods\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a><a href=\"#methods-1\">Methods</a></h3>\n<ul dir=\"auto\">\n<li><a href=\"#isalive\">isAlive</a></li>\n<li><a href=\"#nbusers-and-nbfiles\">nbUsers</a></li>\n<li><a href=\"#nbusers-and-nbfiles\">nbFiles</a></li>\n</ul>\n</li>\n<li>\n<h3 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-endpoints\" class=\"anchor\" aria-hidden=\"true\" href=\"#endpoints\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a><a href=\"#endpoints-1\">Endpoints</a></h3>\n<ul dir=\"auto\">\n<li><a href=\"#status\">/status</a></li>\n<li><a href=\"#stats\">/stats</a></li>\n<li><a href=\"#users\">/users</a></li>\n<li><a href=\"#connect\">/connect</a></li>\n<li><a href=\"#disconnect\">/disconnect</a></li>\n<li><a href=\"#usersme\">/users/me</a></li>\n<li>/files\n<ul dir=\"auto\">\n<li><a href=\"#files\">POST</a></li>\n<li><a href=\"#files-1\">GET</a></li>\n</ul>\n</li>\n<li><a href=\"#filesid\">/files/:id</a></li>\n<li><a href=\"#filesidpublish\">/files/:id/publish</a></li>\n<li><a href=\"#filesiduppublish\">/files/:id/unpublish</a></li>\n<li><a href=\"#filesiddata\">/files/:id/data</a></li>\n</ul>\n</li>\n</ul>\n<h2 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-methods-1\" class=\"anchor\" aria-hidden=\"true\" href=\"#methods-1\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Methods</h2>\n<h3 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-isalive\" class=\"anchor\" aria-hidden=\"true\" href=\"#isalive\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a><code>isAlive</code></h3>\n<p dir=\"auto\">Check <code>Redis</code> or <code>MongoDB</code> connection</p>\n<ul dir=\"auto\">\n<li>Redis</li>\n</ul>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"user@ubuntu:~$ cat main.js\nimport redisClient from './utils/redis';\n\n(async () =&gt; {\n    console.log(redisClient.isAlive());\n})();\"><pre>user@ubuntu:<span class=\"pl-k\">~</span>$ cat main.js\nimport redisClient from <span class=\"pl-s\"><span class=\"pl-pds\">'</span>./utils/redis<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">;</span>\n\n(async () =<span class=\"pl-k\">&gt;</span> {\n    <span class=\"pl-en\">console.log(redisClient.isAlive</span>());\n})()<span class=\"pl-k\">;</span></pre></div>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"user@ubuntu:~$ npm run dev main.js\ntrue\"><pre>user@ubuntu:<span class=\"pl-k\">~</span>$ npm run dev main.js\n<span class=\"pl-c1\">true</span></pre></div>\n<ul dir=\"auto\">\n<li>MongoDb</li>\n</ul>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"user@ubuntu:~$ cat main.js\nimport dbClient from './utils/db';\n\nconst waitConnection = () =&gt; {\n    return new Promise((resolve, reject) =&gt; {\n        let i = 0;\n        const repeatFct = async () =&gt; {\n            await setTimeout(() =&gt; {\n                i += 1;\n                if (i &gt;= 10) {\n                    reject()\n                }\n                else if(!dbClient.isAlive()) {\n                    repeatFct()\n                }\n                else {\n                    resolve()\n                }\n            }, 1000);\n        };\n        repeatFct();\n    })\n};\n\n(async () =&gt; {\n    console.log(dbClient.isAlive());\n    await waitConnection();\n    console.log(dbClient.isAlive());\n})();\"><pre>user@ubuntu:<span class=\"pl-k\">~</span>$ cat main.js\nimport dbClient from <span class=\"pl-s\"><span class=\"pl-pds\">'</span>./utils/db<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">;</span>\n\nconst waitConnection = () =<span class=\"pl-k\">&gt;</span> {\n    <span class=\"pl-k\">return</span> new Promise<span class=\"pl-s\"><span class=\"pl-pds\">((</span>resolve<span class=\"pl-k\">,</span> reject) <span class=\"pl-k\">=&gt;</span> {</span>\n<span class=\"pl-s\">        let i = <span class=\"pl-c1\">0</span>;</span>\n<span class=\"pl-s\">        const repeatFct = async () =&gt; {</span>\n<span class=\"pl-s\">            await setTimeout(() =&gt; {</span>\n<span class=\"pl-s\">                i += <span class=\"pl-c1\">1</span>;</span>\n<span class=\"pl-s\">                if (i &gt;= <span class=\"pl-c1\">10</span>) {</span>\n<span class=\"pl-s\">                    reject()</span>\n<span class=\"pl-s\">                }</span>\n<span class=\"pl-s\">                else if(!dbClient.isAlive(<span class=\"pl-pds\">))</span></span> {\n                    <span class=\"pl-en\">repeatFct</span>()\n                }\n                <span class=\"pl-k\">else</span> {\n                    <span class=\"pl-en\">resolve</span>()\n                }\n            }, 1000)<span class=\"pl-k\">;</span>\n        }<span class=\"pl-k\">;</span>\n        <span class=\"pl-en\">repeatFct</span>();\n    })\n}<span class=\"pl-k\">;</span>\n\n(async () =<span class=\"pl-k\">&gt;</span> {\n    <span class=\"pl-en\">console.log(dbClient.isAlive</span>());\n    await <span class=\"pl-en\">waitConnection</span>();\n    <span class=\"pl-en\">console.log(dbClient.isAlive</span>());\n})()<span class=\"pl-k\">;</span></pre></div>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"user@ubuntu:~$ npm run dev main.js\nfalse\ntrue\"><pre>user@ubuntu:<span class=\"pl-k\">~</span>$ npm run dev main.js\n<span class=\"pl-c1\">false</span>\n<span class=\"pl-c1\">true</span></pre></div>\n<h3 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-nbusers-and-nbfiles\" class=\"anchor\" aria-hidden=\"true\" href=\"#nbusers-and-nbfiles\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a><code>nbUsers</code> and <code>nbFiles</code></h3>\n<p dir=\"auto\">Check number of files and users in the database</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"user@ubuntu:~$ cat main.js\nimport dbClient from './utils/db';\n\n(async () =&gt; {\n    console.log(await dbClient.nbUsers());\n    console.log(await dbClient.nbFiles());\n})();\"><pre>user@ubuntu:<span class=\"pl-k\">~</span>$ cat main.js\nimport dbClient from <span class=\"pl-s\"><span class=\"pl-pds\">'</span>./utils/db<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">;</span>\n\n(async () =<span class=\"pl-k\">&gt;</span> {\n    console.log(await <span class=\"pl-en\">dbClient.nbUsers</span>());\n    console.log(await <span class=\"pl-en\">dbClient.nbFiles</span>());\n<span class=\"pl-en\">})</span>();</pre></div>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"user@ubuntu:~$ npm run dev main.js\n4\n30\nuser@ubuntu:~$\"><pre>user@ubuntu:<span class=\"pl-k\">~</span>$ npm run dev main.js\n4\n30\nuser@ubuntu:<span class=\"pl-k\">~</span>$</pre></div>\n<hr>\n<hr>\n<h2 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-endpoints-1\" class=\"anchor\" aria-hidden=\"true\" href=\"#endpoints-1\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Endpoints</h2>\n<ul dir=\"auto\">\n<li><a href=\"#status\">/status</a></li>\n<li><a href=\"#stats\">/stats</a></li>\n<li><a href=\"#users\">/users</a></li>\n<li><a href=\"#connect\">/connect</a></li>\n<li><a href=\"#disconnect\">/disconnect</a></li>\n<li><a href=\"#usersme\">/users/me</a></li>\n<li>/files\n<ul dir=\"auto\">\n<li><a href=\"#files\">POST</a></li>\n<li><a href=\"#files-1\">GET</a></li>\n</ul>\n</li>\n<li><a href=\"#filesid\">/files/:id</a></li>\n<li><a href=\"#filesidpublish\">/files/:id/publish</a></li>\n<li><a href=\"#filesiduppublish\">/files/:id/unpublish</a></li>\n<li><a href=\"#filesiddata\">/files/:id/data</a></li>\n</ul>\n<h3 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-status\" class=\"anchor\" aria-hidden=\"true\" href=\"#status\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a><code>/status</code></h3>\n<ul dir=\"auto\">\n<li>Method: <code>GET</code></li>\n<li>Purpose: <em>Check if redis and mongo are up and running</em></li>\n<li>Usage:</li>\n</ul>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"user@ubuntu:~$ curl 0.0.0.0:5000/status ; echo &quot;&quot;\n{&quot;redis&quot;:true,&quot;db&quot;:true}\nuser@ubuntu:~$\"><pre>user@ubuntu:<span class=\"pl-k\">~</span>$ curl 0.0.0.0:5000/status <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>redis<span class=\"pl-pds\">\"</span></span>:true,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>db<span class=\"pl-pds\">\"</span></span>:true}\nuser@ubuntu:<span class=\"pl-k\">~</span>$</pre></div>\n<h3 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-stats\" class=\"anchor\" aria-hidden=\"true\" href=\"#stats\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a><code>/stats</code></h3>\n<ul dir=\"auto\">\n<li>Method: <code>GET</code></li>\n<li>Purpose: <em>Retrieves the number of files and users in the database</em></li>\n<li>Usage:</li>\n</ul>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"user@ubuntu:~$ curl 0.0.0.0:5000/stats ; echo &quot;&quot;\n{&quot;users&quot;:4,&quot;files&quot;:30}\nuser@ubuntu:~$\"><pre>user@ubuntu:<span class=\"pl-k\">~</span>$ curl 0.0.0.0:5000/stats <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>users<span class=\"pl-pds\">\"</span></span>:4,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>files<span class=\"pl-pds\">\"</span></span>:30}\nuser@ubuntu:<span class=\"pl-k\">~</span>$</pre></div>\n<h3 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-users\" class=\"anchor\" aria-hidden=\"true\" href=\"#users\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a><code>/users</code></h3>\n<ul dir=\"auto\">\n<li>Methods: <code>POST</code></li>\n<li>Purpose: <em>Creates new user</em></li>\n<li>Body: [email, password]</li>\n<li>Usage:</li>\n</ul>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bob@dylan:~$ curl 0.0.0.0:5000/users -XPOST -H &quot;Content-Type: application/json&quot; -d '{ &quot;email&quot;: &quot;bob@dylan.com&quot;, &quot;password&quot;: &quot;toto1234!&quot; }' ; echo &quot;&quot;\n{&quot;id&quot;:&quot;5f1e7d35c7ba06511e683b21&quot;,&quot;email&quot;:&quot;bob@dylan.com&quot;}\nbob@dylan:~$\"><pre>bob@dylan:<span class=\"pl-k\">~</span>$ curl 0.0.0.0:5000/users -XPOST -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Content-Type: application/json<span class=\"pl-pds\">\"</span></span> -d <span class=\"pl-s\"><span class=\"pl-pds\">'</span>{ \"email\": \"bob@dylan.com\", \"password\": \"toto1234!\" }<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e7d35c7ba06511e683b21<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>email<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>bob@dylan.com<span class=\"pl-pds\">\"</span></span>}\nbob@dylan:<span class=\"pl-k\">~</span>$</pre></div>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bob@dylan:~$ echo 'db.users.find()' | mongo files_manager\n{ &quot;_id&quot; : ObjectId(&quot;5f1e7d35c7ba06511e683b21&quot;), &quot;email&quot; : &quot;bob@dylan.com&quot;, &quot;password&quot; : &quot;89cad29e3ebc1035b29b1478a8e70854f25fa2b2&quot; }\nbob@dylan:~$\"><pre>bob@dylan:<span class=\"pl-k\">~</span>$ <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>db.users.find()<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">|</span> mongo files_manager\n{ <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>_id<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> ObjectId(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e7d35c7ba06511e683b21<span class=\"pl-pds\">\"</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>email<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>bob@dylan.com<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>password<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>89cad29e3ebc1035b29b1478a8e70854f25fa2b2<span class=\"pl-pds\">\"</span></span> }\nbob@dylan:<span class=\"pl-k\">~</span>$</pre></div>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bob@dylan:~$\nbob@dylan:~$ curl 0.0.0.0:5000/users -XPOST -H &quot;Content-Type: application/json&quot; -d '{ &quot;email&quot;: &quot;bob@dylan.com&quot;, &quot;password&quot;: &quot;toto1234!&quot; }' ; echo &quot;&quot;\n{&quot;error&quot;:&quot;Already exist&quot;}\nbob@dylan:~$\"><pre>bob@dylan:<span class=\"pl-k\">~</span>$\nbob@dylan:<span class=\"pl-k\">~</span>$ curl 0.0.0.0:5000/users -XPOST -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Content-Type: application/json<span class=\"pl-pds\">\"</span></span> -d <span class=\"pl-s\"><span class=\"pl-pds\">'</span>{ \"email\": \"bob@dylan.com\", \"password\": \"toto1234!\" }<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Already exist<span class=\"pl-pds\">\"</span></span>}\nbob@dylan:<span class=\"pl-k\">~</span>$</pre></div>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bob@dylan:~$ curl 0.0.0.0:5000/users -XPOST -H &quot;Content-Type: application/json&quot; -d '{ &quot;email&quot;: &quot;bob@dylan.com&quot; }' ; echo &quot;&quot;\n{&quot;error&quot;:&quot;Missing password&quot;}\nbob@dylan:~$\"><pre>bob@dylan:<span class=\"pl-k\">~</span>$ curl 0.0.0.0:5000/users -XPOST -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Content-Type: application/json<span class=\"pl-pds\">\"</span></span> -d <span class=\"pl-s\"><span class=\"pl-pds\">'</span>{ \"email\": \"bob@dylan.com\" }<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Missing password<span class=\"pl-pds\">\"</span></span>}\nbob@dylan:<span class=\"pl-k\">~</span>$</pre></div>\n<h3 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-connect\" class=\"anchor\" aria-hidden=\"true\" href=\"#connect\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a><code>/connect</code></h3>\n<ul dir=\"auto\">\n<li>Method: <code>GET</code></li>\n<li>Purpose: sign-in the user by generating a new authentication token</li>\n<li>Header: [Authorization]\n<ul dir=\"auto\">\n<li>Method: <code>Basic</code></li>\n</ul>\n</li>\n<li>Usage:</li>\n</ul>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bob@dylan:~$ curl 0.0.0.0:5000/connect -H &quot;Authorization: Basic Ym9iQGR5bGFuLmNvbTp0b3RvMTIzNCE=&quot; ; echo &quot;&quot;\n{&quot;token&quot;:&quot;031bffac-3edc-4e51-aaae-1c121317da8a&quot;}\nbob@dylan:~$\"><pre>bob@dylan:<span class=\"pl-k\">~</span>$ curl 0.0.0.0:5000/connect -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Authorization: Basic Ym9iQGR5bGFuLmNvbTp0b3RvMTIzNCE=<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>token<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>031bffac-3edc-4e51-aaae-1c121317da8a<span class=\"pl-pds\">\"</span></span>}\nbob@dylan:<span class=\"pl-k\">~</span>$</pre></div>\n<h3 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-disconnect\" class=\"anchor\" aria-hidden=\"true\" href=\"#disconnect\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a><code>/disconnect</code></h3>\n<ul dir=\"auto\">\n<li>Method: <code>GET</code></li>\n<li>Purpose: sign-out the user based on the token:</li>\n<li>Header: [x-token]</li>\n<li>Usage:</li>\n</ul>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bob@dylan:~$ curl 0.0.0.0:5000/disconnect -H &quot;X-Token: 031bffac-3edc-4e51-aaae-1c121317da8a&quot; ; echo &quot;&quot;\n\nbob@dylan:~$\"><pre>bob@dylan:<span class=\"pl-k\">~</span>$ curl 0.0.0.0:5000/disconnect -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>X-Token: 031bffac-3edc-4e51-aaae-1c121317da8a<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n\nbob@dylan:<span class=\"pl-k\">~</span>$</pre></div>\n<h3 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-usersme\" class=\"anchor\" aria-hidden=\"true\" href=\"#usersme\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a><code>/users/me</code></h3>\n<ul dir=\"auto\">\n<li>Method: <code>GET</code></li>\n<li>Purpose: retrieve the user base on the token used</li>\n<li>Header: [x-token]</li>\n<li>Usage:</li>\n</ul>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bob@dylan:~$ curl 0.0.0.0:5000/connect -H &quot;Authorization: Basic Ym9iQGR5bGFuLmNvbTp0b3RvMTIzNCE=&quot; ; echo &quot;&quot;\n{&quot;token&quot;:&quot;031bffac-3edc-4e51-aaae-1c121317da8a&quot;}\nbob@dylan:~$\nbob@dylan:~$ curl 0.0.0.0:5000/users/me -H &quot;X-Token: 031bffac-3edc-4e51-aaae-1c121317da8a&quot; ; echo &quot;&quot;\n{&quot;id&quot;:&quot;5f1e7cda04a394508232559d&quot;,&quot;email&quot;:&quot;bob@dylan.com&quot;}\nbob@dylan:~$\nbob@dylan:~$ curl 0.0.0.0:5000/disconnect -H &quot;X-Token: 031bffac-3edc-4e51-aaae-1c121317da8a&quot; ; echo &quot;&quot;\n\nbob@dylan:~$ curl 0.0.0.0:5000/users/me -H &quot;X-Token: 031bffac-3edc-4e51-aaae-1c121317da8a&quot; ; echo &quot;&quot;\n{&quot;error&quot;:&quot;Unauthorized&quot;}\nbob@dylan:~$\"><pre>bob@dylan:<span class=\"pl-k\">~</span>$ curl 0.0.0.0:5000/connect -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Authorization: Basic Ym9iQGR5bGFuLmNvbTp0b3RvMTIzNCE=<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>token<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>031bffac-3edc-4e51-aaae-1c121317da8a<span class=\"pl-pds\">\"</span></span>}\nbob@dylan:<span class=\"pl-k\">~</span>$\nbob@dylan:<span class=\"pl-k\">~</span>$ curl 0.0.0.0:5000/users/me -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>X-Token: 031bffac-3edc-4e51-aaae-1c121317da8a<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e7cda04a394508232559d<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>email<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>bob@dylan.com<span class=\"pl-pds\">\"</span></span>}\nbob@dylan:<span class=\"pl-k\">~</span>$\nbob@dylan:<span class=\"pl-k\">~</span>$ curl 0.0.0.0:5000/disconnect -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>X-Token: 031bffac-3edc-4e51-aaae-1c121317da8a<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n\nbob@dylan:<span class=\"pl-k\">~</span>$ curl 0.0.0.0:5000/users/me -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>X-Token: 031bffac-3edc-4e51-aaae-1c121317da8a<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unauthorized<span class=\"pl-pds\">\"</span></span>}\nbob@dylan:<span class=\"pl-k\">~</span>$</pre></div>\n<h3 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-files\" class=\"anchor\" aria-hidden=\"true\" href=\"#files\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a><code>/files</code></h3>\n<ul dir=\"auto\">\n<li>Method: <code>POST</code></li>\n<li>Purpose: create a new file in DB and in disk</li>\n<li>Header: [x-token]</li>\n<li>Body: [\n<ul dir=\"auto\">\n<li><code>userId</code>: {type: <code>String</code>, required: <code>true</code>},</li>\n<li><code>name</code>: {type: <code>String</code>, required: <code>true</code>},</li>\n<li><code>type</code>: {type: <code>String</code>, required: <code>true</code>, enum: [<code>file</code>, <code>image,</code> <code>folder</code>]},</li>\n<li><code>isPublic</code>: {type: <code>Boolean</code>, default: <code>false</code>},</li>\n<li><code>ParentId</code>: {type: <code>String</code>, default: <code>0</code>}]</li>\n</ul>\n</li>\n<li>Usage:</li>\n</ul>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bob@dylan:~$ curl 0.0.0.0:5000/connect -H &quot;Authorization: Basic Ym9iQGR5bGFuLmNvbTp0b3RvMTIzNCE=&quot; ; echo &quot;&quot;\n{&quot;token&quot;:&quot;f21fb953-16f9-46ed-8d9c-84c6450ec80f&quot;}\nbob@dylan:~$\nbob@dylan:~$ curl -XPOST 0.0.0.0:5000/files -H &quot;X-Token: f21fb953-16f9-46ed-8d9c-84c6450ec80f&quot; -H &quot;Content-Type: application/json&quot; -d '{ &quot;name&quot;: &quot;myText.txt&quot;, &quot;type&quot;: &quot;file&quot;, &quot;data&quot;: &quot;SGVsbG8gV2Vic3RhY2shCg==&quot; }' ; echo &quot;&quot;\n{&quot;id&quot;:&quot;5f1e879ec7ba06511e683b22&quot;,&quot;userId&quot;:&quot;5f1e7cda04a394508232559d&quot;,&quot;name&quot;:&quot;myText.txt&quot;,&quot;type&quot;:&quot;file&quot;,&quot;isPublic&quot;:false,&quot;parentId&quot;:0}\nbob@dylan:~$\"><pre>bob@dylan:<span class=\"pl-k\">~</span>$ curl 0.0.0.0:5000/connect -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Authorization: Basic Ym9iQGR5bGFuLmNvbTp0b3RvMTIzNCE=<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>token<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>f21fb953-16f9-46ed-8d9c-84c6450ec80f<span class=\"pl-pds\">\"</span></span>}\nbob@dylan:<span class=\"pl-k\">~</span>$\nbob@dylan:<span class=\"pl-k\">~</span>$ curl -XPOST 0.0.0.0:5000/files -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>X-Token: f21fb953-16f9-46ed-8d9c-84c6450ec80f<span class=\"pl-pds\">\"</span></span> -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Content-Type: application/json<span class=\"pl-pds\">\"</span></span> -d <span class=\"pl-s\"><span class=\"pl-pds\">'</span>{ \"name\": \"myText.txt\", \"type\": \"file\", \"data\": \"SGVsbG8gV2Vic3RhY2shCg==\" }<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e879ec7ba06511e683b22<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>userId<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e7cda04a394508232559d<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>name<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>myText.txt<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>type<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>file<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>isPublic<span class=\"pl-pds\">\"</span></span>:false,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>parentId<span class=\"pl-pds\">\"</span></span>:0}\nbob@dylan:<span class=\"pl-k\">~</span>$</pre></div>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bob@dylan:~$ ls /tmp/files_manager/\n2a1f4fc3-687b-491a-a3d2-5808a02942c9\nbob@dylan:~$\nbob@dylan:~$ cat /tmp/files_manager/2a1f4fc3-687b-491a-a3d2-5808a02942c9\nHello Webstack!\nbob@dylan:~$\"><pre>bob@dylan:<span class=\"pl-k\">~</span>$ ls /tmp/files_manager/\n2a1f4fc3-687b-491a-a3d2-5808a02942c9\nbob@dylan:<span class=\"pl-k\">~</span>$\nbob@dylan:<span class=\"pl-k\">~</span>$ cat /tmp/files_manager/2a1f4fc3-687b-491a-a3d2-5808a02942c9\nHello Webstack<span class=\"pl-k\">!</span>\nbob@dylan:<span class=\"pl-k\">~</span>$</pre></div>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bob@dylan:~$ curl -XPOST 0.0.0.0:5000/files -H &quot;X-Token: f21fb953-16f9-46ed-8d9c-84c6450ec80f&quot; -H &quot;Content-Type: application/json&quot; -d '{ &quot;name&quot;: &quot;images&quot;, &quot;type&quot;: &quot;folder&quot; }' ; echo &quot;&quot;\n{&quot;id&quot;:&quot;5f1e881cc7ba06511e683b23&quot;,&quot;userId&quot;:&quot;5f1e7cda04a394508232559d&quot;,&quot;name&quot;:&quot;images&quot;,&quot;type&quot;:&quot;folder&quot;,&quot;isPublic&quot;:false,&quot;parentId&quot;:0}\nbob@dylan:~$\"><pre>bob@dylan:<span class=\"pl-k\">~</span>$ curl -XPOST 0.0.0.0:5000/files -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>X-Token: f21fb953-16f9-46ed-8d9c-84c6450ec80f<span class=\"pl-pds\">\"</span></span> -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Content-Type: application/json<span class=\"pl-pds\">\"</span></span> -d <span class=\"pl-s\"><span class=\"pl-pds\">'</span>{ \"name\": \"images\", \"type\": \"folder\" }<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e881cc7ba06511e683b23<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>userId<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e7cda04a394508232559d<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>name<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>images<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>type<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>folder<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>isPublic<span class=\"pl-pds\">\"</span></span>:false,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>parentId<span class=\"pl-pds\">\"</span></span>:0}\nbob@dylan:<span class=\"pl-k\">~</span>$</pre></div>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bob@dylan:~$ cat image_upload.py\nimport base64\nimport requests\nimport sys\n\nfile_path = sys.argv[1]\nfile_name = file_path.split('/')[-1]\n\nfile_encoded = None\nwith open(file_path, &quot;rb&quot;) as image_file:\n    file_encoded = base64.b64encode(image_file.read()).decode('utf-8')\n\nr_json = { 'name': file_name, 'type': 'image', 'isPublic': True, 'data': file_encoded, 'parentId': sys.argv[3] }\nr_headers = { 'X-Token': sys.argv[2] }\n\nr = requests.post(&quot;http://0.0.0.0:5000/files&quot;, json=r_json, headers=r_headers)\nprint(r.json())\n\nbob@dylan:~$\nbob@dylan:~$ python image_upload.py image.png f21fb953-16f9-46ed-8d9c-84c6450ec80f 5f1e881cc7ba06511e683b23\n{'id': '5f1e8896c7ba06511e683b25', 'userId': '5f1e7cda04a394508232559d', 'name': 'image.png', 'type': 'image', 'isPublic': True, 'parentId': '5f1e881cc7ba06511e683b23'}\nbob@dylan:~$\"><pre>bob@dylan:<span class=\"pl-k\">~</span>$ cat image_upload.py\nimport base64\nimport requests\nimport sys\n\nfile_path = sys.argv[1]\nfile_name = file_path.split(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span>)[-1]\n\nfile_encoded = None\nwith open(file_path, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>rb<span class=\"pl-pds\">\"</span></span>) as image_file:\n    file_encoded = <span class=\"pl-en\">base64.b64encode(image_file.read</span>()).decode(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>utf-8<span class=\"pl-pds\">'</span></span>)\n\nr_json = { <span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>: file_name, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>type<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>image<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>isPublic<span class=\"pl-pds\">'</span></span>: True, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>data<span class=\"pl-pds\">'</span></span>: file_encoded, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>parentId<span class=\"pl-pds\">'</span></span>: sys.argv[3] }\nr_headers = { <span class=\"pl-s\"><span class=\"pl-pds\">'</span>X-Token<span class=\"pl-pds\">'</span></span>: sys.argv[2] }\n\nr = requests.post(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>http://0.0.0.0:5000/files<span class=\"pl-pds\">\"</span></span>, json=r_json, headers=r_headers)\n<span class=\"pl-en\">print(r.json</span>())\n\nbob@dylan:<span class=\"pl-k\">~</span>$\nbob@dylan:<span class=\"pl-k\">~</span>$ python image_upload.py image.png f21fb953-16f9-46ed-8d9c-84c6450ec80f 5f1e881cc7ba06511e683b23\n{<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>5f1e8896c7ba06511e683b25<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>userId<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>5f1e7cda04a394508232559d<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>image.png<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>type<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>image<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>isPublic<span class=\"pl-pds\">'</span></span>: True, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>parentId<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>5f1e881cc7ba06511e683b23<span class=\"pl-pds\">'</span></span>}\nbob@dylan:<span class=\"pl-k\">~</span>$</pre></div>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bob@dylan:~$ echo 'db.files.find()' | mongo files_manager\n{ &quot;_id&quot; : ObjectId(&quot;5f1e881cc7ba06511e683b23&quot;), &quot;userId&quot; : ObjectId(&quot;5f1e7cda04a394508232559d&quot;), &quot;name&quot; : &quot;images&quot;, &quot;type&quot; : &quot;folder&quot;, &quot;parentId&quot; : &quot;0&quot; }\n{ &quot;_id&quot; : ObjectId(&quot;5f1e879ec7ba06511e683b22&quot;), &quot;userId&quot; : ObjectId(&quot;5f1e7cda04a394508232559d&quot;), &quot;name&quot; : &quot;myText.txt&quot;, &quot;type&quot; : &quot;file&quot;, &quot;parentId&quot; : &quot;0&quot;, &quot;isPublic&quot; : false, &quot;localPath&quot; : &quot;/tmp/files_manager/2a1f4fc3-687b-491a-a3d2-5808a02942c9&quot; }\n{ &quot;_id&quot; : ObjectId(&quot;5f1e8896c7ba06511e683b25&quot;), &quot;userId&quot; : ObjectId(&quot;5f1e7cda04a394508232559d&quot;), &quot;name&quot; : &quot;image.png&quot;, &quot;type&quot; : &quot;image&quot;, &quot;parentId&quot; : ObjectId(&quot;5f1e881cc7ba06511e683b23&quot;), &quot;isPublic&quot; : true, &quot;localPath&quot; : &quot;/tmp/files_manager/51997b88-5c42-42c2-901e-e7f4e71bdc47&quot; }\nbob@dylan:~$\nbob@dylan:~$ ls /tmp/files_manager/\n2a1f4fc3-687b-491a-a3d2-5808a02942c9   51997b88-5c42-42c2-901e-e7f4e71bdc47\nbob@dylan:~$\"><pre>bob@dylan:<span class=\"pl-k\">~</span>$ <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>db.files.find()<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">|</span> mongo files_manager\n{ <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>_id<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> ObjectId(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e881cc7ba06511e683b23<span class=\"pl-pds\">\"</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>userId<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> ObjectId(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e7cda04a394508232559d<span class=\"pl-pds\">\"</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>name<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>images<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>type<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>folder<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>parentId<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>0<span class=\"pl-pds\">\"</span></span> }\n{ <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>_id<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> ObjectId(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e879ec7ba06511e683b22<span class=\"pl-pds\">\"</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>userId<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> ObjectId(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e7cda04a394508232559d<span class=\"pl-pds\">\"</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>name<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>myText.txt<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>type<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>file<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>parentId<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>0<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>isPublic<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> false, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>localPath<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/tmp/files_manager/2a1f4fc3-687b-491a-a3d2-5808a02942c9<span class=\"pl-pds\">\"</span></span> }\n{ <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>_id<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> ObjectId(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e8896c7ba06511e683b25<span class=\"pl-pds\">\"</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>userId<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> ObjectId(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e7cda04a394508232559d<span class=\"pl-pds\">\"</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>name<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>image.png<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>type<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>image<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>parentId<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> ObjectId(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e881cc7ba06511e683b23<span class=\"pl-pds\">\"</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>isPublic<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> true, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>localPath<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c1\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/tmp/files_manager/51997b88-5c42-42c2-901e-e7f4e71bdc47<span class=\"pl-pds\">\"</span></span> }\nbob@dylan:<span class=\"pl-k\">~</span>$\nbob@dylan:<span class=\"pl-k\">~</span>$ ls /tmp/files_manager/\n2a1f4fc3-687b-491a-a3d2-5808a02942c9   51997b88-5c42-42c2-901e-e7f4e71bdc47\nbob@dylan:<span class=\"pl-k\">~</span>$</pre></div>\n<h3 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-filesid\" class=\"anchor\" aria-hidden=\"true\" href=\"#filesid\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a><code>/files/:id</code></h3>\n<ul dir=\"auto\">\n<li>Method: <code>GET</code></li>\n<li>Purpose: retrieve the file document based on the ID</li>\n<li>Header: [x-token]</li>\n<li>Usage:</li>\n</ul>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bob@dylan:~$ curl 0.0.0.0:5000/connect -H &quot;Authorization: Basic Ym9iQGR5bGFuLmNvbTp0b3RvMTIzNCE=&quot; ; echo &quot;&quot;\n{&quot;token&quot;:&quot;f21fb953-16f9-46ed-8d9c-84c6450ec80f&quot;}\nbob@dylan:~$\n\nbob@dylan:~$ curl -XGET 0.0.0.0:5000/files/5f1e8896c7ba06511e683b25 -H &quot;X-Token: f21fb953-16f9-46ed-8d9c-84c6450ec80f&quot; ; echo &quot;&quot;\n{&quot;id&quot;:&quot;5f1e8896c7ba06511e683b25&quot;,&quot;userId&quot;:&quot;5f1e7cda04a394508232559d&quot;,&quot;name&quot;:&quot;image.png&quot;,&quot;type&quot;:&quot;image&quot;,&quot;isPublic&quot;:true,&quot;parentId&quot;:&quot;5f1e881cc7ba06511e683b23&quot;}\nbob@dylan:~$\"><pre>bob@dylan:<span class=\"pl-k\">~</span>$ curl 0.0.0.0:5000/connect -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Authorization: Basic Ym9iQGR5bGFuLmNvbTp0b3RvMTIzNCE=<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>token<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>f21fb953-16f9-46ed-8d9c-84c6450ec80f<span class=\"pl-pds\">\"</span></span>}\nbob@dylan:<span class=\"pl-k\">~</span>$\n\nbob@dylan:<span class=\"pl-k\">~</span>$ curl -XGET 0.0.0.0:5000/files/5f1e8896c7ba06511e683b25 -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>X-Token: f21fb953-16f9-46ed-8d9c-84c6450ec80f<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e8896c7ba06511e683b25<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>userId<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e7cda04a394508232559d<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>name<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>image.png<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>type<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>image<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>isPublic<span class=\"pl-pds\">\"</span></span>:true,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>parentId<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e881cc7ba06511e683b23<span class=\"pl-pds\">\"</span></span>}\nbob@dylan:<span class=\"pl-k\">~</span>$</pre></div>\n<h3 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-files-1\" class=\"anchor\" aria-hidden=\"true\" href=\"#files-1\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a><code>/files</code></h3>\n<ul dir=\"auto\">\n<li>Method: <code>GET</code></li>\n<li>Purpose: retrieve all users file documents for a specific parentId and with pagination</li>\n<li>Header: [x-token]</li>\n<li>Query: [\n<ul dir=\"auto\">\n<li><code>parentId</code>: {type: <code>String</code>, default: <code>0</code>}</li>\n<li>page: {type: <code>Number</code>, default: <code>0</code>}\n]</li>\n</ul>\n</li>\n<li>Usage:</li>\n</ul>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bob@dylan:~$ curl 0.0.0.0:5000/connect -H &quot;Authorization: Basic Ym9iQGR5bGFuLmNvbTp0b3RvMTIzNCE=&quot; ; echo &quot;&quot;\n{&quot;token&quot;:&quot;f21fb953-16f9-46ed-8d9c-84c6450ec80f&quot;}\nbob@dylan:~$\nbob@dylan:~$ curl -XGET 0.0.0.0:5000/files -H &quot;X-Token: f21fb953-16f9-46ed-8d9c-84c6450ec80f&quot; ; echo &quot;&quot;\n[{&quot;id&quot;:&quot;5f1e879ec7ba06511e683b22&quot;,&quot;userId&quot;:&quot;5f1e7cda04a394508232559d&quot;,&quot;name&quot;:&quot;myText.txt&quot;,&quot;type&quot;:&quot;file&quot;,&quot;isPublic&quot;:false,&quot;parentId&quot;:0},{&quot;id&quot;:&quot;5f1e881cc7ba06511e683b23&quot;,&quot;userId&quot;:&quot;5f1e7cda04a394508232559d&quot;,&quot;name&quot;:&quot;images&quot;,&quot;type&quot;:&quot;folder&quot;,&quot;isPublic&quot;:false,&quot;parentId&quot;:0},{&quot;id&quot;:&quot;5f1e8896c7ba06511e683b25&quot;,&quot;userId&quot;:&quot;5f1e7cda04a394508232559d&quot;,&quot;name&quot;:&quot;image.png&quot;,&quot;type&quot;:&quot;image&quot;,&quot;isPublic&quot;:true,&quot;parentId&quot;:&quot;5f1e881cc7ba06511e683b23&quot;}]\nbob@dylan:~$\nbob@dylan:~$ curl -XGET 0.0.0.0:5000/files?parentId=5f1e881cc7ba06511e683b23 -H &quot;X-Token: f21fb953-16f9-46ed-8d9c-84c6450ec80f&quot; ; echo &quot;&quot;\n[{&quot;id&quot;:&quot;5f1e8896c7ba06511e683b25&quot;,&quot;userId&quot;:&quot;5f1e7cda04a394508232559d&quot;,&quot;name&quot;:&quot;image.png&quot;,&quot;type&quot;:&quot;image&quot;,&quot;isPublic&quot;:true,&quot;parentId&quot;:&quot;5f1e881cc7ba06511e683b23&quot;}]\nbob@dylan:~$\"><pre>bob@dylan:<span class=\"pl-k\">~</span>$ curl 0.0.0.0:5000/connect -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Authorization: Basic Ym9iQGR5bGFuLmNvbTp0b3RvMTIzNCE=<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>token<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>f21fb953-16f9-46ed-8d9c-84c6450ec80f<span class=\"pl-pds\">\"</span></span>}\nbob@dylan:<span class=\"pl-k\">~</span>$\nbob@dylan:<span class=\"pl-k\">~</span>$ curl -XGET 0.0.0.0:5000/files -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>X-Token: f21fb953-16f9-46ed-8d9c-84c6450ec80f<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n[{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e879ec7ba06511e683b22<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>userId<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e7cda04a394508232559d<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>name<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>myText.txt<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>type<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>file<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>isPublic<span class=\"pl-pds\">\"</span></span>:false,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>parentId<span class=\"pl-pds\">\"</span></span>:0},{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e881cc7ba06511e683b23<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>userId<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e7cda04a394508232559d<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>name<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>images<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>type<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>folder<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>isPublic<span class=\"pl-pds\">\"</span></span>:false,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>parentId<span class=\"pl-pds\">\"</span></span>:0},{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e8896c7ba06511e683b25<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>userId<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e7cda04a394508232559d<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>name<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>image.png<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>type<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>image<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>isPublic<span class=\"pl-pds\">\"</span></span>:true,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>parentId<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e881cc7ba06511e683b23<span class=\"pl-pds\">\"</span></span>}]\nbob@dylan:<span class=\"pl-k\">~</span>$\nbob@dylan:<span class=\"pl-k\">~</span>$ curl -XGET 0.0.0.0:5000/files<span class=\"pl-k\">?</span>parentId=5f1e881cc7ba06511e683b23 -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>X-Token: f21fb953-16f9-46ed-8d9c-84c6450ec80f<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n[{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e8896c7ba06511e683b25<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>userId<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e7cda04a394508232559d<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>name<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>image.png<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>type<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>image<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>isPublic<span class=\"pl-pds\">\"</span></span>:true,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>parentId<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e881cc7ba06511e683b23<span class=\"pl-pds\">\"</span></span>}]\nbob@dylan:<span class=\"pl-k\">~</span>$</pre></div>\n<h3 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-filesidpublish\" class=\"anchor\" aria-hidden=\"true\" href=\"#filesidpublish\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a><code>/files/:id/publish</code></h3>\n<ul dir=\"auto\">\n<li>Method: <code>PUT</code></li>\n<li>Purpose: Make a file public and accessible to anyone</li>\n<li>Header: [x-token]</li>\n<li>Usage:</li>\n</ul>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bob@dylan:~$ curl -XPUT 0.0.0.0:5000/files/5f1e8896c7ba06511e683b25/publish -H &quot;X-Token: f21fb953-16f9-46ed-8d9c-84c6450ec80f&quot; ; echo &quot;&quot;\n{&quot;id&quot;:&quot;5f1e8896c7ba06511e683b25&quot;,&quot;userId&quot;:&quot;5f1e7cda04a394508232559d&quot;,&quot;name&quot;:&quot;image.png&quot;,&quot;type&quot;:&quot;image&quot;,&quot;isPublic&quot;:true,&quot;parentId&quot;:&quot;5f1e881cc7ba06511e683b23&quot;}\nbob@dylan:~$\"><pre>bob@dylan:<span class=\"pl-k\">~</span>$ curl -XPUT 0.0.0.0:5000/files/5f1e8896c7ba06511e683b25/publish -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>X-Token: f21fb953-16f9-46ed-8d9c-84c6450ec80f<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e8896c7ba06511e683b25<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>userId<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e7cda04a394508232559d<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>name<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>image.png<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>type<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>image<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>isPublic<span class=\"pl-pds\">\"</span></span>:true,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>parentId<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e881cc7ba06511e683b23<span class=\"pl-pds\">\"</span></span>}\nbob@dylan:<span class=\"pl-k\">~</span>$</pre></div>\n<h3 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-filesiduppublish\" class=\"anchor\" aria-hidden=\"true\" href=\"#filesiduppublish\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a><code>/files/:id/uppublish</code></h3>\n<ul dir=\"auto\">\n<li>Method: <code>PUT</code></li>\n<li>Purpose: Make a file unpublic and not accessible to anyone</li>\n<li>Header: [x-token]</li>\n<li>Usage:</li>\n</ul>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bob@dylan:~$ curl -XPUT 0.0.0.0:5000/files/5f1e8896c7ba06511e683b25/unpublish -H &quot;X-Token: f21fb953-16f9-46ed-8d9c-84c6450ec80f&quot; ; echo &quot;&quot;\n{&quot;id&quot;:&quot;5f1e8896c7ba06511e683b25&quot;,&quot;userId&quot;:&quot;5f1e7cda04a394508232559d&quot;,&quot;name&quot;:&quot;image.png&quot;,&quot;type&quot;:&quot;image&quot;,&quot;isPublic&quot;:false,&quot;parentId&quot;:&quot;5f1e881cc7ba06511e683b23&quot;}\nbob@dylan:~$\"><pre>bob@dylan:<span class=\"pl-k\">~</span>$ curl -XPUT 0.0.0.0:5000/files/5f1e8896c7ba06511e683b25/unpublish -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>X-Token: f21fb953-16f9-46ed-8d9c-84c6450ec80f<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e8896c7ba06511e683b25<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>userId<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e7cda04a394508232559d<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>name<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>image.png<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>type<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>image<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>isPublic<span class=\"pl-pds\">\"</span></span>:false,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>parentId<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e881cc7ba06511e683b23<span class=\"pl-pds\">\"</span></span>}\nbob@dylan:<span class=\"pl-k\">~</span>$</pre></div>\n<h3 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-filesiddata\" class=\"anchor\" aria-hidden=\"true\" href=\"#filesiddata\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a><code>/files/:id/data</code></h3>\n<ul dir=\"auto\">\n<li>Method: GET</li>\n<li>Purpose: <em>return the content of the file document based on the ID</em></li>\n<li>Header: [x-token]</li>\n<li>Usage:</li>\n</ul>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bob@dylan:~$ curl -XPUT 0.0.0.0:5000/files/5f1e879ec7ba06511e683b22/unpublish -H &quot;X-Token: f21fb953-16f9-46ed-8d9c-84c6450ec80f&quot; ; echo &quot;&quot;\n{&quot;id&quot;:&quot;5f1e879ec7ba06511e683b22&quot;,&quot;userId&quot;:&quot;5f1e7cda04a394508232559d&quot;,&quot;name&quot;:&quot;myText.txt&quot;,&quot;type&quot;:&quot;file&quot;,&quot;isPublic&quot;:false,&quot;parentId&quot;:0}\nbob@dylan:~$ \nbob@dylan:~$ curl -XGET 0.0.0.0:5000/files/5f1e879ec7ba06511e683b22/data -H &quot;X-Token: f21fb953-16f9-46ed-8d9c-84c6450ec80f&quot; ; echo &quot;&quot;\nHello Webstack!\n\nbob@dylan:~$ curl -XGET 0.0.0.0:5000/files/5f1e879ec7ba06511e683b22/data ; echo &quot;&quot;\n{&quot;error&quot;:&quot;Not found&quot;}\nbob@dylan:~$ \"><pre>bob@dylan:<span class=\"pl-k\">~</span>$ curl -XPUT 0.0.0.0:5000/files/5f1e879ec7ba06511e683b22/unpublish -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>X-Token: f21fb953-16f9-46ed-8d9c-84c6450ec80f<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e879ec7ba06511e683b22<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>userId<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e7cda04a394508232559d<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>name<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>myText.txt<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>type<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>file<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>isPublic<span class=\"pl-pds\">\"</span></span>:false,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>parentId<span class=\"pl-pds\">\"</span></span>:0}\nbob@dylan:<span class=\"pl-k\">~</span>$ \nbob@dylan:<span class=\"pl-k\">~</span>$ curl -XGET 0.0.0.0:5000/files/5f1e879ec7ba06511e683b22/data -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>X-Token: f21fb953-16f9-46ed-8d9c-84c6450ec80f<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\nHello Webstack<span class=\"pl-k\">!</span>\n\nbob@dylan:<span class=\"pl-k\">~</span>$ curl -XGET 0.0.0.0:5000/files/5f1e879ec7ba06511e683b22/data <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Not found<span class=\"pl-pds\">\"</span></span>}\nbob@dylan:<span class=\"pl-k\">~</span>$ </pre></div>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bob@dylan:~$ curl -XPUT 0.0.0.0:5000/files/5f1e879ec7ba06511e683b22/publish -H &quot;X-Token: f21fb953-16f9-46ed-8d9c-84c6450ec80f&quot; ; echo &quot;&quot;\n{&quot;id&quot;:&quot;5f1e879ec7ba06511e683b22&quot;,&quot;userId&quot;:&quot;5f1e7cda04a394508232559d&quot;,&quot;name&quot;:&quot;myText.txt&quot;,&quot;type&quot;:&quot;file&quot;,&quot;isPublic&quot;:true,&quot;parentId&quot;:0}\nbob@dylan:~$ \nbob@dylan:~$ curl -XGET 0.0.0.0:5000/files/5f1e879ec7ba06511e683b22/data ; echo &quot;&quot;\nHello Webstack!\n\nbob@dylan:~$\"><pre>bob@dylan:<span class=\"pl-k\">~</span>$ curl -XPUT 0.0.0.0:5000/files/5f1e879ec7ba06511e683b22/publish -H <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>X-Token: f21fb953-16f9-46ed-8d9c-84c6450ec80f<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e879ec7ba06511e683b22<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>userId<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5f1e7cda04a394508232559d<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>name<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>myText.txt<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>type<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>file<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>isPublic<span class=\"pl-pds\">\"</span></span>:true,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>parentId<span class=\"pl-pds\">\"</span></span>:0}\nbob@dylan:<span class=\"pl-k\">~</span>$ \nbob@dylan:<span class=\"pl-k\">~</span>$ curl -XGET 0.0.0.0:5000/files/5f1e879ec7ba06511e683b22/data <span class=\"pl-k\">;</span> <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>\nHello Webstack<span class=\"pl-k\">!</span>\n\nbob@dylan:<span class=\"pl-k\">~</span>$</pre></div>\n</article>","renderedFileInfo":null,"tabSize":8,"topBannersInfo":{"overridingGlobalFundingFile":false,"globalPreferredFundingPath":null,"repoOwner":"St-Pardon","repoName":"alx-files_manager","showInvalidCitationWarning":false,"citationHelpUrl":"https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-citation-files","showDependabotConfigurationBanner":false,"actionsOnboardingTip":null},"truncated":false,"viewable":true,"workflowRedirectUrl":null,"symbols":{"timedOut":false,"notAnalyzed":true,"symbols":[]}},"copilotUserAccess":null,"csrf_tokens":{"/St-Pardon/alx-files_manager/branches":{"post":"eX8NMqEiv8zSRbzKkWqA_gJ9cKsh_-eqpsedabLCVUnI5Tw3SlNZo0s7bc0m8hsqpNT-O1nN11zjQTinOJ3BBQ"}}},"title":"alx-files_manager/routes/README.md at main  St-Pardon/alx-files_manager","locale":"en"}